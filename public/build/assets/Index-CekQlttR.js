import{j as e,L as x,H as j,e as u}from"./app-DUXThpc1.js";import{A as o}from"./AuthenticatedLayout-YP1KSosD.js";import"./transition-B9PtlFWk.js";function N({meta:s}){return!s||!s.links||s.links.length<=3?null:e.jsx("div",{className:"mt-4",children:e.jsx("nav",{className:"flex justify-center",children:e.jsx("ul",{className:"inline-flex -space-x-px",children:s.links.map((l,d)=>{const t=l.url?l.url.replace(/^http/i,"https"):null;return e.jsx("li",{children:t?e.jsx(x,{href:t,className:`px-4 py-2 border text-sm ${l.active?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,dangerouslySetInnerHTML:{__html:l.label}}):e.jsx("span",{className:"px-4 py-2 border text-sm text-gray-400 border-gray-300",dangerouslySetInnerHTML:{__html:l.label}})},d)})})})})}const m=s=>new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"});function h({report:s,sl:l}){var c,a,i;const d=l[(c=s==null?void 0:s.meta)==null?void 0:c.state_id],t=(i=d==null?void 0:d.lgas)==null?void 0:i[(a=s==null?void 0:s.meta)==null?void 0:a.lga_id];return e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center",children:[e.jsxs("div",{children:[" ",(d==null?void 0:d.state_name)||"N/A"," State,"]}),e.jsxs("div",{children:[" ",t||"N/A"," LGA"]})]})}function r({meta:s}){return s?e.jsxs("div",{className:"capitalize flex gap-2 flex-wrap",children:[e.jsx("span",{children:s.last_name}),e.jsx("span",{children:s.middle_name}),e.jsx("span",{children:s.first_name})]}):null}function g({report:s,sl:l}){return s!=null&&s.meta?e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{meta:s.meta}),e.jsx(h,{report:s,sl:l})]}):e.jsxs("div",{children:["No details yet",e.jsx("br",{}),e.jsx(x,{href:route("records.edit",{id:s==null?void 0:s.id}),className:"text-blue-500 underline",children:"Add Details"})]})}function v({reports:s,sl:l}){var c;const d=((c=s==null?void 0:s.data)==null?void 0:c.length)>0,t=a=>{confirm("Are you sure you want to delete this record?")&&u.delete(route("records.destroy",a),{preserveScroll:!0})};return e.jsxs(o,{header:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Submitted Records"}),children:[e.jsx(j,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[!d&&e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6 text-gray-900",children:"You have not added any records yet."})}),d&&e.jsx("div",{className:"hidden md:block",children:e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2",children:"Photo"}),e.jsx("th",{className:"px-4 py-2",children:"Details"}),e.jsx("th",{className:"px-4 py-2",children:"Name"}),e.jsx("th",{className:"px-4 py-2",children:"Location"}),e.jsx("th",{className:"px-4 py-2",children:"Created"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:s.data.map((a,i)=>{var n;return e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3",children:a!=null&&a.photo?e.jsx("img",{className:"h-10 w-10 rounded object-cover",src:a.photo,alt:"Report"}):e.jsx("div",{className:"text-gray-400",children:"No Image"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:((n=a==null?void 0:a.meta)==null?void 0:n.custom_id)||"na"}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:e.jsx(r,{meta:a.meta})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:a.meta&&e.jsx(h,{report:a,sl:l})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:m(a.created_at)}),e.jsxs("td",{className:"px-4 py-3 space-x-4",children:[e.jsx(x,{href:route("records.show",{id:a.id}),className:"text-blue-600 underline",children:"View"}),e.jsx("button",{onClick:()=>t(a.id),className:"text-red-600 underline hover:text-red-800",children:"Delete"})]})]},i)})})]})}),d&&e.jsx("div",{className:"space-y-4 md:hidden",children:s.data.map((a,i)=>{var n;return e.jsxs("div",{className:"bg-white shadow rounded p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a!=null&&a.photo?e.jsx("img",{className:"h-16 w-16 rounded object-cover",src:a.photo,alt:"Report"}):e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-gray-100 text-gray-400 text-xs",children:"No Image"}),e.jsxs("div",{className:"flex-1",children:[((n=a==null?void 0:a.meta)==null?void 0:n.custom_id)||"na",e.jsx("div",{className:"text-sm text-gray-500",children:m(a.created_at)})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:"Details:"}),e.jsx("div",{className:"text-sm",children:e.jsx(g,{report:a,sl:l})})]}),e.jsxs("div",{className:"mt-3 flex gap-4 text-sm",children:[e.jsx(x,{href:route("records.show",{id:a.id}),className:"text-blue-600 underline",children:"View"}),e.jsx("button",{onClick:()=>t(a.id),className:"text-red-600 underline hover:text-red-800",children:"Delete"})]})]},i)})}),e.jsx("div",{className:"mt-6",children:e.jsx(N,{meta:s})})]})})]})}export{v as default};
