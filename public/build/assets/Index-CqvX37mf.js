import{j as e,L as c,H as h,e as m}from"./app-BZhzKcie.js";import{A as u}from"./AuthenticatedLayout-Dp5MpnYG.js";import"./transition-DEzvGk_3.js";function j({meta:s}){return!s||!s.links||s.links.length<=3?null:e.jsx("div",{className:"mt-4",children:e.jsx("nav",{className:"flex justify-center",children:e.jsx("ul",{className:"inline-flex -space-x-px",children:s.links.map((l,t)=>{const d=l.url?l.url.replace(/^http/i,"https"):null;return e.jsx("li",{children:d?e.jsx(c,{href:d,className:`px-4 py-2 border text-sm ${l.active?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,dangerouslySetInnerHTML:{__html:l.label}}):e.jsx("span",{className:"px-4 py-2 border text-sm text-gray-400 border-gray-300",dangerouslySetInnerHTML:{__html:l.label}})},t)})})})})}const o=s=>new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"});function x({report:s,sl:l}){var n,a,i;const t=l[(n=s==null?void 0:s.meta)==null?void 0:n.state_id],d=(i=t==null?void 0:t.lgas)==null?void 0:i[(a=s==null?void 0:s.meta)==null?void 0:a.lga_id];return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[e.jsxs("div",{children:["State: ",(t==null?void 0:t.state_name)||"N/A"]}),e.jsxs("div",{children:["LGA: ",d||"N/A"]})]})}function r({meta:s}){return s?e.jsxs("div",{className:"capitalize flex gap-2 flex-wrap",children:[e.jsx("span",{children:s.last_name}),e.jsx("span",{children:s.middle_name}),e.jsx("span",{children:s.first_name})]}):null}function y({report:s,sl:l}){return s!=null&&s.meta?e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{meta:s.meta}),e.jsx(x,{report:s,sl:l})]}):e.jsxs("div",{children:["No details yet",e.jsx("br",{}),e.jsx(c,{href:route("records.edit",{id:s==null?void 0:s.id}),className:"text-blue-500 underline",children:"Add Details"})]})}function b({reports:s,sl:l}){var n;const t=((n=s==null?void 0:s.data)==null?void 0:n.length)>0,d=a=>{confirm("Are you sure you want to delete this record?")&&m.delete(route("records.destroy",a),{preserveScroll:!0})};return e.jsxs(u,{header:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Submitted Records"}),children:[e.jsx(h,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[!t&&e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6 text-gray-900",children:"You have not added any records yet."})}),t&&e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2",children:"Photo"}),e.jsx("th",{className:"px-4 py-2",children:"Details"}),e.jsx("th",{className:"px-4 py-2",children:"Name"}),e.jsx("th",{className:"px-4 py-2",children:"Location"}),e.jsx("th",{className:"px-4 py-2",children:"Created"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:s.data.map((a,i)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3",children:a!=null&&a.photo?e.jsx("img",{className:"h-10 w-10 rounded object-cover",src:a.photo,alt:"Report"}):e.jsx("div",{className:"text-gray-400",children:"No Image"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:e.jsx(y,{report:a,sl:l})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:e.jsx(r,{meta:a.meta})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:a.meta&&e.jsx(x,{report:a,sl:l})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:o(a.created_at)}),e.jsxs("td",{className:"px-4 py-3 space-x-4",children:[e.jsx(c,{href:route("records.show",{id:a.id}),className:"text-blue-600 underline",children:"View"}),e.jsx("button",{onClick:()=>d(a.id),className:"text-red-600 underline hover:text-red-800",children:"Delete"})]})]},i))})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j,{meta:s})})]})})]})}export{b as default};
